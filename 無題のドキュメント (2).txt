* 
________________


📄 ウェブアプリ仕様書：「まちまちチャット商店街」v2.2
________________


1. アプリ概要
Web上に仮想の商店街を構築し、各商店や施設にAIチャットを配置することで、地域の専門性・魅力をデジタル上に再現・発信する。商店主や行政が自らチャットのスタンスを設定し、訪問者との温かみある対話を可能にする。生活・相談・回遊が融合する「デジタル商店街プラットフォーム」を実現。
________________


2. 想定ユーザー
ユーザー層
	利用目的
	地域住民
	地域内の店舗や公共施設への相談・交流
	外部訪問者
	地元の文化や魅力を体験・観光的に楽しむ
	商店主
	自店舗の専門性発信・プロモーション
	自治体/施設管理者
	行政情報の発信・地域連携イベントの運用
	________________


3. メインUI構成
▶ 商店街表示
   * 画面上部にアーケード看板（商店街名を設定可能）

   * 中央に縦の道路、左右に4店舗ずつ最大8店舗を段違いに配置

   * 商店は手書き風イラスト＋店名付き看板

   * 商店をクリックするとチャットウィンドウが吹き出し形式で表示

▶ 常設施設エリア（左側固定）
      * 初期表示施設：

         * 市役所（🏛️）

         * 学校（🏫）

         * 図書館（📚）

         * 商工会議所（🏢）

         * スマートライフAO（💡）

         * 公園（🌳）

         * 体育館（🏟️）

            * ユーザーがチェックすると、左側に縦にアイコン表示

            * 各施設をクリックで専用AIチャットへ

▶ チャットウィンドウ（吹き出し）
               * 商店や施設をクリックするとカード型チャットがポップアップ

               * 入力言語（日本語・英語）を自動判定し、同言語でChatGPTが応答

               * 各店舗のスタンスや思想を反映した会話設計

▶ 道路上のくるま演出
                  * 左レーン（上向き）×2台、右レーン（下向き）×2台の手描き車

                  * CSSアニメーションで自然な移動を演出

                  * 夜間はヘッドライト点灯演出

________________


4. 特殊表示・演出
🕰 時計台（右上固定）
                     * 常時表示されるランドマーク（丘の上）

                     * 昼・夕・夜に合わせて背景や演出が変化

                     * 時計針のアニメーション付き

📺 時計台下ビジョン（商店CM表示）
                        * 商店主が設定したCM文／画像をローテーション表示（5秒ごと）

                        * 表示例：「今週末は大感謝セール開催中！」

📢 左側ビジョン（市からのお知らせ）
                           * 常設施設エリア最上部に固定表示

                           * 市役所が投稿した「防災訓練」「イベント案内」などのテロップを表示

                           * 表示期間と本文、画像の管理が可能

📅 イベントカレンダー（新機能）
                              * 全商店・施設共通の地域イベントスケジューラー

                              * 表示形式：月表示・週表示／フィルターで主催施設選択可能

                              * 投稿項目：タイトル／日時／概要／主催施設／リンク

                              * 投稿者は各施設または市役所（ログイン管理）

                              * ユーザーがイベントを確認し、AIに質問して詳細を知ることも可能

________________


5. 各設定機能
🏪 商店設定項目
項目
	内容
	商店名
	店名／看板に表示
	業種
	カテゴリ（翻訳対応）
	スタンス
	店の価値観（修理重視など）
	外観
	手書き風イラスト／画像アップ
	コマーシャル設定
	時計台ビジョン用キャッチコピー＋画像
	ホームページURL
	外部リンク設定（新規タブで表示）
	🏛 左側施設の専用設定（商店とは別設計）
項目
	内容例
	施設名
	「〇〇市役所」「〇〇図書館」など
	管轄カテゴリ
	教育／行政／子育てなど
	担当者の思い
	挨拶文や施設の意義
	応答スタンス
	「丁寧に制度を案内」などのAIプロンプト調整
	イベント／お知らせ投稿機能
	ビジョン・カレンダーに直接連携可能
	________________


6. マイページ・お気に入り機能（新機能）
                                 * 各商店に「お気に入り♡」ボタンを配置

                                 * ユーザーがクリックすると「マイページ」に登録

                                 * サイドバーの「マイページ」ボタンから自分だけの「マイ商店街」表示へ

                                 * マイ商店街は最大8店舗まで／通常UIと同じ段違い構成で表示

________________


7. 夜モード切替（新機能）
                                    * 時間帯（例：18:00〜翌6:00）で自動的に「夜モード」に切替

                                    * 夜モードでは以下が変化：

                                       * 背景が夜空・星・ライト演出

                                       * 商店看板／ビジョンがライトアップ

                                       * 車のヘッドライトON

                                          * サイドバーに手動切替トグルあり（🌙⇄🌞）

________________


8. 多言語対応（自動判定）
                                             * ユーザーの入力言語に合わせて日本語／英語で返答

                                             * 店主は設定を日本語だけでOK

                                             * システムプロンプトに以下を含む：

ユーザーの言語に応じて、同じ言語で返答してください。


________________


9. 技術構成（予定）
項目
	使用技術
	フロントエンド
	React + Tailwind CSS
	状態管理
	Zustand or useState
	バックエンド
	Supabase（Auth, DB, Storage）
	AIチャット
	OpenAI GPT-4 / GPT-4o
	イベント管理
	Supabase Table（イベント投稿・参照）
	アニメ・演出
	CSS Keyframes + Framer Motion
	デプロイ
	Vercel or Netlify
	________________